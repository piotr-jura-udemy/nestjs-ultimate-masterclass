### Variables
@baseUrl = http://localhost:3000
@contentType = application/json

### The basic request
GET {{baseUrl}}

### Get all tasks 
GET {{baseUrl}}/tasks

### Get one task
GET {{baseUrl}}/tasks/{{taskId}}

### Create new task
# @name createTask
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
  "title": "Learn NestJS",
  "description": "Complete the NestJS course",
  "status": "OPEN",
  "userId": "49dfc5bf-ada7-4316-a356-d5f992fea5fc",
  "labels": [
    {
      "name": "important"
    }
  ]
}
### Set the task id
@taskId = {{ createTask.response.body.id }}

### Validation error - status is incorrect
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
  "description": "Complete the NestJS course",
  "status": "XXX"
}

### Update the task status
PATCH {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

{
  "status": "IN_PROGRESS",
  "labels": []
}

### Deleting a task
DELETE {{ baseUrl }}/tasks/{{taskId}}

### Add labels to task
POST {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

[
  { "name": "urgent" },
  { "name": "bug" }
]

### Remove specific labels
DELETE {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

["urgent", "bug"]